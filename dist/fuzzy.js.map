{"version":3,"sources":["Fuzzy.js"],"names":[],"mappings":"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","file":"fuzzy.js","sourcesContent":["export default class Fuzzy {\n  constructor(list = [], keys = []) {\n    this.list = list;\n    this.keys = keys;\n  }\n\n  search(query = '') {\n    var results = [];\n\n    for (var x = 0; x < this.list.length; x++) {\n      var item = this.list[x];\n\n      if (this.keys.length == 0 && this.isMatch(item, query)) {\n        results.push(item);\n      } else {\n        for (var y = 0; y < this.keys.length; y++) {\n          var propertyValues = this.getDescendantProperty(item, this.keys[y]);\n          var found = false;\n\n          for (var z = 0; z < propertyValues.length; z++) {\n            if (this.isMatch(propertyValues[z], query)) {\n              results.push(item);\n              found = true;\n\n              break;\n            }\n          }\n\n          if (found) {\n            break;\n          }\n        }\n      }\n    }\n\n    return results;\n  }\n\n  getDescendantProperty(object, path, list = []) {\n    var firstSegment;\n    var remaining;\n    var dotIndex;\n    var value;\n    var index;\n    var length;\n\n    if (!path) {\n      list.push(object)\n    } else {\n      dotIndex = path.indexOf('.')\n\n      if (dotIndex !== -1) {\n        firstSegment = path.slice(0, dotIndex)\n        remaining = path.slice(dotIndex + 1)\n      } else {\n        firstSegment = path\n      }\n\n      value = object[firstSegment]\n      if (value !== null && value !== undefined) {\n        if (!remaining && (typeof value === 'string' || typeof value === 'number')) {\n          list.push(value)\n        } else if (Object.prototype.toString.call(value) === '[object Array]') {\n          for (index = 0, length = value.length; index < length; index++) {\n            this.getDescendantProperty(value[index], remaining, list)\n          }\n        } else if (remaining) {\n          this.getDescendantProperty(value, remaining, list)\n        }\n      }\n    }\n\n    return list\n  }\n\n  isMatch(item, query) {\n    var regexp = new RegExp(query.split('').map(letter => letter.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\")).join('.*?'), 'i');\n\n    if (regexp.test(item)) {\n      return true;\n    }\n\n    return false;\n  }\n}\n"],"sourceRoot":"/source/"}