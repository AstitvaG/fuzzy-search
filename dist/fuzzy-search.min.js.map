{"version":3,"sources":["fuzzy-search.min.js","Fuzzy-search.js"],"names":["root","factory","define","amd","exports","module","FuzzySearch","this","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","list","arguments","undefined","keys","options","Error","extend","caseSensitive","value","query","results","x","item","isMatch","push","y","propertyValues","getDescendantProperty","found","z","_len","objects","Array","_key","object","property","hasOwnProperty","call","toString","path","firstSegment","remaining","dotIndex","index","indexOf","slice","toLowerCase","letters","split","letter"],"mappings":"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","file":"fuzzy-search.min.js","sourcesContent":[";(function(root, factory) {\r\n  /* istanbul ignore next */\r\n  if (typeof define === 'function' && define.amd) {\r\n    define([], factory);\r\n  } else if (typeof exports === 'object') {\r\n    module.exports = factory();\r\n  } else {\r\n    root.FuzzySearch = factory();\r\n  }\r\n}(this, function() {\r\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar FuzzySearch = function () {\n  function FuzzySearch() {\n    var list = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n    var keys = arguments.length <= 1 || arguments[1] === undefined ? [] : arguments[1];\n    var options = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n    _classCallCheck(this, FuzzySearch);\n\n    if (list.length == 0) {\n      throw new Error('We need an array containing the search list');\n    }\n\n    this.list = list;\n    this.keys = keys;\n    this.options = FuzzySearch.extend({\n      caseSensitive: false\n    }, options);\n  }\n\n  _createClass(FuzzySearch, [{\n    key: 'search',\n    value: function search() {\n      var query = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];\n\n      var results = [];\n\n      for (var x = 0; x < this.list.length; x++) {\n        var item = this.list[x];\n\n        if (this.keys.length == 0 && FuzzySearch.isMatch(item, query, this.options.caseSensitive)) {\n          results.push(item);\n        } else {\n          for (var y = 0; y < this.keys.length; y++) {\n            var propertyValues = FuzzySearch.getDescendantProperty(item, this.keys[y]);\n            var found = false;\n\n            for (var z = 0; z < propertyValues.length; z++) {\n              if (FuzzySearch.isMatch(propertyValues[z], query, this.options.caseSensitive)) {\n                results.push(item);\n                found = true;\n\n                break;\n              }\n            }\n\n            if (found) {\n              break;\n            }\n          }\n        }\n      }\n\n      return results;\n    }\n  }], [{\n    key: 'extend',\n    value: function extend() {\n      var target = {};\n\n      for (var _len = arguments.length, objects = Array(_len), _key = 0; _key < _len; _key++) {\n        objects[_key] = arguments[_key];\n      }\n\n      for (var x = 0; x < objects.length; x++) {\n        var object = objects[x];\n\n        for (var property in object) {\n          if (Object.prototype.hasOwnProperty.call(object, property)) {\n            if (Object.prototype.toString.call(object[property]) === '[object Object]') {\n              target[property] = FuzzySearch.extend(target[property], object[property]);\n            } else {\n              target[property] = object[property];\n            }\n          }\n        }\n      }\n\n      return target;\n    }\n  }, {\n    key: 'getDescendantProperty',\n    value: function getDescendantProperty(object, path) {\n      var list = arguments.length <= 2 || arguments[2] === undefined ? [] : arguments[2];\n\n      var firstSegment = void 0;\n      var remaining = void 0;\n      var dotIndex = void 0;\n      var value = void 0;\n      var index = void 0;\n      var length = void 0;\n\n      if (!path) {\n        list.push(object);\n      } else {\n        dotIndex = path.indexOf('.');\n\n        if (dotIndex !== -1) {\n          firstSegment = path.slice(0, dotIndex);\n          remaining = path.slice(dotIndex + 1);\n        } else {\n          firstSegment = path;\n        }\n\n        value = object[firstSegment];\n        if (value !== null && value !== undefined) {\n          if (!remaining && (typeof value === 'string' || typeof value === 'number')) {\n            list.push(value);\n          } else if (Object.prototype.toString.call(value) === '[object Array]') {\n            for (index = 0, length = value.length; index < length; index++) {\n              FuzzySearch.getDescendantProperty(value[index], remaining, list);\n            }\n          } else if (remaining) {\n            FuzzySearch.getDescendantProperty(value, remaining, list);\n          }\n        }\n      }\n\n      return list;\n    }\n  }, {\n    key: 'isMatch',\n    value: function isMatch(item, query, caseSensitive) {\n      if (!caseSensitive) {\n        item = item.toLowerCase();\n        query = query.toLowerCase();\n      }\n\n      var index = 0;\n      var letters = query.split('');\n\n      for (var x = 0; x < letters.length; x++) {\n        var letter = letters[x];\n\n        if ((index = item.indexOf(letter, index)) == -1) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n  }]);\n\n  return FuzzySearch;\n}();\r\nreturn FuzzySearch;\r\n}));\r\n","class FuzzySearch {\n  constructor(list = [], keys = [], options = {}) {\n    if (list.length == 0) {\n      throw new Error('We need an array containing the search list');\n    }\n\n    this.list = list;\n    this.keys = keys;\n    this.options = FuzzySearch.extend({\n      caseSensitive: false,\n    }, options);\n  }\n\n  search(query = '') {\n    let results = [];\n\n    for (let x = 0; x < this.list.length; x++) {\n      let item = this.list[x];\n\n      if (this.keys.length == 0 && FuzzySearch.isMatch(item, query, this.options.caseSensitive)) {\n        results.push(item);\n      } else {\n        for (let y = 0; y < this.keys.length; y++) {\n          let propertyValues = FuzzySearch.getDescendantProperty(item, this.keys[y]);\n          let found = false;\n\n          for (let z = 0; z < propertyValues.length; z++) {\n            if (FuzzySearch.isMatch(propertyValues[z], query, this.options.caseSensitive)) {\n              results.push(item);\n              found = true;\n\n              break;\n            }\n          }\n\n          if (found) {\n            break;\n          }\n        }\n      }\n    }\n\n    return results;\n  }\n\n  static extend(...objects) {\n    let target = {};\n\n    for (let x = 0; x < objects.length; x++) {\n      let object = objects[x];\n\n      for (let property in object) {\n        if (Object.prototype.hasOwnProperty.call(object, property)) {\n          if (Object.prototype.toString.call(object[property]) === '[object Object]') {\n            target[property] = FuzzySearch.extend(target[property], object[property]);\n          } else {\n            target[property] = object[property];\n          }\n        }\n      }\n    }\n\n    return target;\n  }\n\n  static getDescendantProperty(object, path, list = []) {\n    let firstSegment;\n    let remaining;\n    let dotIndex;\n    let value;\n    let index;\n    let length;\n\n    if (!path) {\n      list.push(object)\n    } else {\n      dotIndex = path.indexOf('.')\n\n      if (dotIndex !== -1) {\n        firstSegment = path.slice(0, dotIndex)\n        remaining = path.slice(dotIndex + 1)\n      } else {\n        firstSegment = path\n      }\n\n      value = object[firstSegment]\n      if (value !== null && value !== undefined) {\n        if (!remaining && (typeof value === 'string' || typeof value === 'number')) {\n          list.push(value)\n        } else if (Object.prototype.toString.call(value) === '[object Array]') {\n          for (index = 0, length = value.length; index < length; index++) {\n            FuzzySearch.getDescendantProperty(value[index], remaining, list)\n          }\n        } else if (remaining) {\n          FuzzySearch.getDescendantProperty(value, remaining, list)\n        }\n      }\n    }\n\n    return list\n  }\n\n  static isMatch(item, query, caseSensitive) {\n    if (!caseSensitive) {\n      item = item.toLowerCase();\n      query = query.toLowerCase();\n    }\n\n    let index = 0;\n    let letters = query.split('');\n\n    for (let x = 0; x < letters.length; x++) {\n      let letter = letters[x];\n\n      if ((index = item.indexOf(letter, index)) == -1) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n}\n"],"sourceRoot":"/source/"}